<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grocery</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

</head>

<body>
    <div class="container my-5">
        <div class="text-center mb-4">
            <h2>ðŸ›’ Grocery List</h2>
            <p class="text-muted">Manage your shopping list with ease</p>
            <h6 class="fw-semibold">Total items to buy: <span id="totalItems">0</span></h6>
        </div>
        <form id="form-input mb-4">
            <div class="row">
                <div class="col-md-4 p-0">

                </div>
                <div class="col-md-4 p-0">
                    <input type="text" name="input-item" class="form-control" placeholder="Enter grocery item...">
                </div>
                <div class="col-md-4 p-0">
                    <button type="submit" class="btn btn-dark">+</button>
                </div>
            </div>
        </form>
        <!-- Grocery List -->
        <div id="list-group">
            <!-- Item -->





        </div>





        <script>
            var inputdata = [];
            var getdata = document.querySelector("#form-input")

            getdata.addEventListener('submit', (e) => {
                e.preventDefault();

                const listdata = new FormData(getdata)
                // console.log(listdata.get('input-item'))
                var itemobj = {
                    "item": listdata.get('input-item'),
                    "qty": 1
                };
                // console.log(itemobj)
                inputdata.push(itemobj)
                // console.log(inputdata)
                renderList();
                getdata.reset();
            });


            function renderList() {

                var itemgroup = document.querySelector("#list-group")
                let htmldata = "";
                var count = 0;

                // htmldata=htmldata+2
                for (var i = 0; i < inputdata.length; i++) {
                    htmldata += `<div class=" list-group-item d-flex justify-content-between align-items-center">
                <div class="d-flex align-items-center">
                    <button class="btn btn-outline-secondary btn-circle me-2" onclick=decrease(${i})>âˆ’</button>
                    <div col-md-8>
                        <strong>${inputdata[i].item}</strong><br>
                        <small class="text-muted">${inputdata[i].qty}</small>
                    </div>
                </div>
                <div class="d-flex align-items-center ">
                    <button  class="btn btn-outline-secondary btn-circle me-2" onclick=increase(${i})>+</button>
                    <button class="btn btn-danger btn-circle" onclick=deletebtn(${i})>ðŸ—‘</button>
                </div>
            </div>`
                    count += inputdata[i].qty


                }
                totalItems(count)

                itemgroup.innerHTML = htmldata;
            }




            function deletebtn(index) {
                inputdata.splice(index, 1)
                renderList()

            }
            function increase(index) {
                inputdata[index].qty += 1
                renderList()
            }
            function decrease(index) {
                if (inputdata[index].qty > 1) {
                    inputdata[index].qty -= 1
                    renderList()

                } else {
                    alert("minimum ")
                }

            }

            function totalItems(c) {
                countelement = document.querySelector("#totalItems")
                // console.log(c)
                countelement.innerText = c


            }











            //  var list = {}
            //             listdata.forEach((value, key) => {
            //                 list[key] = value;
            //             });
        </script>
</body>

</html>